---
title: "Lab 02 - Plastic waste"
author: "Tasneem Arabi"
date: "09/18/2025"
output: github_document
---

## Load packages and data

```{r}
install.packages("tidyverse")
library(tidyverse)
plastic_waste <- readr::read_csv("data/plastic-waste.csv")
```


```{r load-packages, message=FALSE}
library(tidyverse) 
```

```{r load-data, message=FALSE}
plastic_waste <- read_csv("data/plastic-waste.csv")
```

## Exercises

### Exercise 1

These histograms show that across all continents, most countries produce very little plastic waste per captia, (near zero). The main difference is is spread: North America and Europe show slightly higher variation, while Asia, Africa, Oceania, and South America remained tightly group at the low end.

```{r plastic-waste-continent}
ggplot(plastic_waste, aes(x = plastic_waste_per_cap)) +
  geom_histogram(binwidth = 0.2) +
  facet_wrap(~ continent, scales = "free_y")
```

### Exercise 2

```{r plastic-waste-density}
ggplot(plastic_waste,
       aes(x = plastic_waste_per_cap, color = continent, fill = continent)) +
  geom_density(alpha = 0.35)
```

### Exercise 3

**color** and **fill** are aesthetic mappings because they vary by data group (which in this case are the continents), so we map them inside **aes()**. alpha controls how the geometry is drawn, not a data-driven variable here, so it's a fixed parameter of the layer and belongs outside **aes()** inside **geom_density(alpha = ...)**.

### Exercise 4

**Violin plots** reveal the full distribution shape (multimodality, skew, tails). **Box plots** emphasize median and quartiles and show outliers explicitly. The box is clearer for median/IQR; the violin is better for seeing bumps and tails.

```{r plastic-waste-violin}
ggplot(data = plastic_waste, 
       mapping = aes(x = continent, 
                     y = plastic_waste_per_cap)) +
  geom_boxplot(width = 0.15, outlier.alpha = 0.4)
```

### Exercise 5

There is a clear **positive correlation**: countries generating more plastic waste per capita tend to mismanage  more per perosn, with dispersion increasing at higher values.

```{r plastic-waste-mismanaged}
ggplot(plastic_waste,
       aes(x = plastic_waste_per_cap,
           y = mismanaged_plastic_waste_per_cap)) +
  geom_point(alpha = 0.7) +
  labs(x = "Plastic waste per capita (kg/day)",
       y = "Mismanaged plastic waste per capita (kg/day)")
```

### Exercise 6

Continents are somewhat seperate; Europe/North America tend to have **higher waste per capita** but **lower mismanaged share** than Africa/Asia, which show higher mismanaged values at compaarable waste levels. Still, there's overlap showing continent isn't the only driver.

```{r plastic-waste-mismanaged-continent}
ggplot(plastic_waste,
       aes(x = plastic_waste_per_cap,
           y = mismanaged_plastic_waste_per_cap,
           color = continent)) +
  geom_point(alpha = 0.7) +
  labs(x = "Plastic waste per capita (kg/day)",
       y = "Mismanaged plastic waste per cpita (kg/day)",
       color ="Continent")
```

### Exercise 7

Both relationships look **weak/nonlinear**. Larger populations don't necessarily imply higher per capita waste. If anything, coastal population shows a **slightly stronger**--but still weak--positive trend than total population.

```{r plastic-waste-population-total}
ggplot(plastic_waste,
       aes(x = total_pop, y = plastic_waste_per_cap)) +
  geom_point(alpha = 0.7) +
  scale_x_continuous(labels = scales::label_number(scale_cut = scales::cut_si(""))) +
  labs(x = "Total population", 
       y = "Plastic waste per capita (kg/day)")
```

```{r plastic-waste-population-coastal}
ggplot(plastic_waste,
       aes(x = coastal_pop, y = plastic_waste_per_cap)) +
  geom_point(alpha = 0.7) +
  scale_x_continuous(labels = scales::label_number(scale_cut = scales::cut_si(""))) +
  labs(x = "Coastal population", 
       y = "Plastic waste per capita (kg/day)")
```

### Exercise 8

After filtering out one extreme per capita value, there's a **slight upward trend**: countries that have a larger coastal share tend to have higher per-capita waste, but the relationship is modest and varies by continent.

```{r recreate-viz}
plastic_waste %>%
  mutate(coastal_pop_prop = coastal_pop / total_pop) %>%
  filter(plastic_waste_per_cap < 3) %>%
  ggplot(aes(x = coastal_pop_prop,
             y = plastic_waste_per_cap,
             color = continent)) +
  geom_point() +
  geom_smooth(color = "black") + 
  scale_color_viridis_d() +
  labs(x = "Coastal population proportion (coastal / total population",
       y = "Plastic waste per capita (kg/day)",
       color = "continent",
       title = "Plastic waste vs coastal population proportion",
       subtitle = "by continent") +
  theme_minimal()
```
